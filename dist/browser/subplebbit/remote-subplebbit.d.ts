import { Plebbit } from "../plebbit.js";
import type { SubplebbitEvents } from "../types.js";
import { TypedEmitter } from "tiny-typed-emitter";
import { RetryOperation } from "retry";
import { SubplebbitClientsManager } from "../clients/client-manager.js";
import type { CreateRemoteSubplebbitOptions, SubplebbitIpfsType, SubplebbitStats, RpcRemoteSubplebbitType, SubplebbitJson, SubplebbitUpdatingState, SubplebbitState } from "./types.js";
import { PostsPages } from "../pages/pages.js";
export declare class RemoteSubplebbit extends TypedEmitter<SubplebbitEvents> {
    title?: SubplebbitIpfsType["title"];
    description?: SubplebbitIpfsType["description"];
    roles?: SubplebbitIpfsType["roles"];
    lastPostCid?: SubplebbitIpfsType["lastPostCid"];
    lastCommentCid?: SubplebbitIpfsType["lastCommentCid"];
    posts: PostsPages;
    pubsubTopic?: SubplebbitIpfsType["pubsubTopic"];
    stats?: SubplebbitStats;
    features?: SubplebbitIpfsType["features"];
    suggested?: SubplebbitIpfsType["suggested"];
    flairs?: SubplebbitIpfsType["flairs"];
    address: SubplebbitIpfsType["address"];
    shortAddress: string;
    statsCid: SubplebbitIpfsType["statsCid"];
    createdAt: SubplebbitIpfsType["createdAt"];
    updatedAt: SubplebbitIpfsType["updatedAt"];
    encryption: SubplebbitIpfsType["encryption"];
    protocolVersion: SubplebbitIpfsType["protocolVersion"];
    signature: SubplebbitIpfsType["signature"];
    rules?: SubplebbitIpfsType["rules"];
    challenges: SubplebbitIpfsType["challenges"];
    postUpdates?: SubplebbitIpfsType["postUpdates"];
    state: SubplebbitState;
    updatingState: SubplebbitUpdatingState;
    clients: SubplebbitClientsManager["clients"];
    updateCid?: string;
    _plebbit: Plebbit;
    _ipnsLoadingOperation?: RetryOperation;
    _clientsManager: SubplebbitClientsManager;
    _rawSubplebbitIpfs?: SubplebbitIpfsType;
    protected _updateTimeout?: NodeJS.Timeout;
    constructor(plebbit: Plebbit);
    _updateLocalPostsInstance(newPosts: SubplebbitIpfsType["posts"] | SubplebbitJson["posts"] | Pick<NonNullable<SubplebbitIpfsType["posts"]>, "pageCids">): Promise<void>;
    initSubplebbitIpfsPropsNoMerge(newProps: SubplebbitIpfsType): Promise<void>;
    initRemoteSubplebbitPropsNoMerge(newProps: SubplebbitJson | CreateRemoteSubplebbitOptions): Promise<void>;
    setAddress(newAddress: string): void;
    protected _toJSONIpfsBaseNoPosts(): Pick<this, "address" | "signature" | "protocolVersion" | "lastCommentCid" | "description" | "pubsubTopic" | "title" | "challenges" | "updatedAt" | "encryption" | "createdAt" | "statsCid" | "postUpdates" | "roles" | "rules" | "lastPostCid" | "features" | "suggested" | "flairs">;
    toJSONIpfs(): SubplebbitIpfsType;
    toJSONRpcRemote(): RpcRemoteSubplebbitType;
    protected _setState(newState: RemoteSubplebbit["state"]): void;
    _setUpdatingState(newState: RemoteSubplebbit["updatingState"]): void;
    private _isRetriableErrorWhenLoading;
    private _retryLoadingSubplebbitIpns;
    private updateOnce;
    update(): Promise<void>;
    stop(): Promise<void>;
}
